@model IEnumerable<ScheduleAdminTool.DATA.EF.Student>


@{
    ViewBag.Title = "Home Page";
}


<div class="d-flex">
    <div> @Html.Partial("_SideBar")</div>


    <section class="page-content">

        @if (!Request.IsAuthenticated)
        {
            <div class="py-5">
                <h2 class="text-center">
                    Please log in to the Scheduling Administration Portal
                </h2>
                <div class="text-center">@Html.ActionLink("Login", "Login", "Account", null, new { @class = "btn btn-primary" })</div>
            </div>
        }
        else
        {
            <table class="table">
                <tr>
                    <th>
                        Student Name
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Major)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Address)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.City)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.State)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ZipCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Phone)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PhotoUrl)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.StudentStatus.SSName)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("Details","Students", new { id = item.StudentId })"> @Html.DisplayFor(modelItem => item.FullName)</a>
                        </td>                        
                        <td>
                            @Html.DisplayFor(modelItem => item.Major)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Address)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.City)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.State)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ZipCode)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PhotoUrl)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StudentStatus.SSName)
                        </td>
                        <td>

                            @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                            {
                                @Html.ActionLink("Edit", "Edit", "Students", new { id = item.StudentId }, null) <text>|</text>
                                @Html.ActionLink("Delete", "Delete","Students", new { id = item.StudentId }, null)
                            }
                        </td>
                    </tr>
                }

            </table>
        }
        @if (User.IsInRole("Admin"))
        {
            <div class="text-center">
                @Html.ActionLink("Create New", "Create", "Students", null, new {@class="btn btn-primary" })
            </div>
        }
    </section>


</div>

@*@Html.ActionLink("RolesAdmin", "Index", "RolesAdmin")
    @Html.ActionLink("UsersAdmin", "Index", "UsersAdmin")*@
